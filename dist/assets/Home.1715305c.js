import{M as S}from"./MenuBar.dca5e5a5.js";import{U as V}from"./UserSelector.fa65e289.js";import{a as G}from"./api_client.f45c9317.js";import{k as q,l as B,r as H,o as a,c,m as $,b as n,F as w,n as T,t as C,g as j,d as R,f as X,p as D,h as F,i as z,O as P}from"./main.8a2f4785.js";import{_ as W}from"./_plugin-vue_export-helper.cdc0426e.js";var I={exports:{}};(function(m){(function(u){if(typeof _!="function"){var _=function(e){return e};_.nonNative=!0}const p=_("plaintext"),v=_("html"),g=_("comment"),N=/<(\w*)>/g,r=/<\/?([^\s\/>]+)/;function b(e,t,f){e=e||"",t=t||[],f=f||"";let E=s(t,f);return d(e,E)}function A(e,t){e=e||[],t=t||"";let f=s(e,t);return function(l){return d(l||"",f)}}b.init_streaming_mode=A;function s(e,t){return e=L(e),{allowable_tags:e,tag_replacement:t,state:p,tag_buffer:"",depth:0,in_quote_char:""}}function d(e,t){if(typeof e!="string")throw new TypeError("'html' parameter must be a string");let f=t.allowable_tags,E=t.tag_replacement,l=t.state,o=t.tag_buffer,y=t.depth,h=t.in_quote_char,k="";for(let M=0,O=e.length;M<O;M++){let i=e[M];if(l===p)switch(i){case"<":l=v,o+=i;break;default:k+=i;break}else if(l===v)switch(i){case"<":if(h)break;y++;break;case">":if(h)break;if(y){y--;break}h="",l=p,o+=">",f.has(U(o))?k+=o:k+=E,o="";break;case'"':case"'":i===h?h="":h=h||i,o+=i;break;case"-":o==="<!-"&&(l=g),o+=i;break;case" ":case`
`:if(o==="<"){l=p,k+="< ",o="";break}o+=i;break;default:o+=i;break}else if(l===g)switch(i){case">":o.slice(-2)=="--"&&(l=p),o="";break;default:o+=i;break}}return t.state=l,t.tag_buffer=o,t.depth=y,t.in_quote_char=h,k}function L(e){let t=new Set;if(typeof e=="string"){let f;for(;f=N.exec(e);)t.add(f[1])}else!_.nonNative&&typeof e[_.iterator]=="function"?t=new Set(e):typeof e.forEach=="function"&&e.forEach(t.add,t);return t}function U(e){let t=r.exec(e);return t?t[1].toLowerCase():null}m.exports?m.exports=b:u.striptags=b})(q)})(I);const Z=I.exports;const x=m=>(D("data-v-f2198446"),m=m(),F(),m),J={class:"home-view"},K={class:"home-content"},Q=x(()=>n("h2",{class:"title"},"\u3064\u3076\u3084\u304D\u4E00\u89A7",-1)),Y={key:0,class:"entry-list"},tt={class:"entry-info"},et={class:"content"},st={class:"group"},nt=z("\u95B2\u89A7\u30DA\u30FC\u30B8"),ot=["onClick"],rt=x(()=>n("i",{class:"fas fa-trash-alt"},null,-1)),it=[rt],at={key:1,class:"no-entry"},ct=x(()=>n("h2",{class:"title"},"\u30B0\u30EB\u30FC\u30D7\u4E00\u89A7",-1)),ut={class:"group-list"},_t={key:0,class:"col"},lt={class:"name"},dt={class:"members"},ft=["src"],pt={class:"name"},ht={class:"members"},mt=["src"],kt={class:"buttons"},vt=["onClick"],gt=["onClick"],bt=x(()=>n("div",{class:"blank"},null,-1)),Et={__name:"Home",setup(m){const u=B({entries:[],defaultGroup:null,groups:[]}),_=async()=>{const r=await G.get("/entries");!r.ok||(u.entries=r.entries)},p=async()=>{const r=await G.get("/groups");!r.ok||(u.defaultGroup=r.defaultGroup,u.groups=r.customGroups||[])},v=(r=null)=>{P.setView(V,{created:p,groupId:r})},g=async r=>{!confirm("\u3064\u3076\u3084\u304D\u3092\u524A\u9664\u3057\u3066\u3088\u308D\u3057\u3044\u3067\u3059\u304B?")||(await G.post(`/entries/${r}/delete`),_())},N=async r=>{!confirm("\u30B0\u30EB\u30FC\u30D7\u3092\u524A\u9664\u3059\u308B\u3068\u3001\u7D10\u3065\u3044\u3066\u308B\u3064\u3076\u3084\u304D\u3082\u5168\u3066\u524A\u9664\u3055\u308C\u307E\u3059\u3002 \u3088\u308D\u3057\u3044\u3067\u3059\u304B?")||(await G.post(`/groups/${r}/delete`),_(),p())};return _(),p(),(r,b)=>{const A=H("router-link");return a(),c("div",J,[$(S,{class:"menu"}),n("div",K,[Q,u.entries.length?(a(),c("div",Y,[(a(!0),c(w,null,T(u.entries,s=>{var d;return a(),c("div",{class:"col",key:s.id},[n("div",tt,[n("p",et,C(R(Z)(s.content)),1),n("span",st,"\u95B2\u89A7\u7BC4\u56F2: "+C(((d=s.group)==null?void 0:d.name)||"\u3060\u308C\u3067\u3082"),1),$(A,{class:"ui-link",to:`/e/${s.uuid}`},{default:X(()=>[nt]),_:2},1032,["to"])]),n("button",{class:"delete-btn",onClick:L=>g(s.id)},it,8,ot)])}),128))])):(a(),c("div",at," \u3064\u3076\u3084\u304D\u304C\u3042\u308A\u307E\u305B\u3093... ")),ct,n("div",ut,[u.defaultGroup?(a(),c("div",_t,[n("p",lt,C(u.defaultGroup.name),1),n("div",dt,[(a(!0),c(w,null,T(u.defaultGroup.twitterUsers,s=>(a(),c("img",{key:s.id,src:s.avatarUrl,alt:""},null,8,ft))),128))])])):j("",!0),(a(!0),c(w,null,T(u.groups,s=>(a(),c("div",{class:"col",key:s.id},[n("p",pt,C(s.name),1),n("div",ht,[(a(!0),c(w,null,T(s.twitterUsers,d=>(a(),c("img",{key:d.id,src:d.avatarUrl,alt:""},null,8,mt))),128))]),n("div",kt,[n("button",{class:"ui-button delete-btn",onClick:d=>N(s.id)},"\u524A\u9664",8,vt),n("button",{class:"ui-button edit-btn",onClick:d=>v(s.id)},"\u7DE8\u96C6",8,gt)])]))),128))]),bt])])}}},xt=W(Et,[["__scopeId","data-v-f2198446"]]);export{xt as default};
